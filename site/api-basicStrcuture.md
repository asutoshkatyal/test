+++
date = 2014-07-28T11:28:15Z
title = "Lumberjack"
menu = "code"
repo = "lumberjack.v2"

[[badges]]
  alt = "godoc"
  img = "https://godoc.org/gopkg.in/natefinch/lumberjack.v2?status.png"
  url = "https://godoc.org/gopkg.in/natefinch/lumberjack.v2"
[[badges]]
  alt = "linux build status"
  img = "https://drone.io/github.com/natefinch/lumberjack/status.png"
  url = "https://drone.io/github.com/natefinch/lumberjack/latest"
[[badges]]
  alt = "windows build status"
  img = "https://ci.appveyor.com/api/projects/status/00gchpxtg4gkrt5d"
  url = "https://ci.appveyor.com/project/natefinch/lumberjack"
[[Sidebar menu]]
  menu="code"
+++
#API HTTP-Methods:
### Authentication: 
### (We might be swritching to a OAUTH 2, tutorials +documentation can be found on - http://tutorials.jenkov.com/oauth2/overview.html, will add it to the docs, when necessary)
##### For the sake of simplicity,securtiy and effeciency we could use OAUTH (one of the most tried and tested ways) to authenticate our users. 
##### The most fundamental OAUTH methods are provided below, with the idea to help programmers to use only one document  in order to write thier client application, vs visitng several pages and adding unnecessary complexity to the whole process. These should be enough for most clinet applications, however if one wants a more detailed documentation,one can always visit - http://oauth.net/documentation/ 
#### For the sake of scalibilty, I chose to not include sample JSON/XML/YAML code, as our platform should be able to send/recive information in all these formats. This is solely the rough documentation for the API structure. (Would be happy to include JSON sample, if need be)

  ##1. Get token method
    Endpoint -  /oauth/getRequestToken 
    This method grants an unauthorized Request Token and a Token Secret to the application. It is called using the      HTTP POST method. 
    The following parameters are included as comma-separated name/values pairs in the HTTP Authorization header. 
    
    oauth_consumer_key: The consumer key used to access all Patron Developer APIs.
    oauth_nonce:    A random value, used in all OAuth authentication requests and all subsequent authenticated API        calls     to prevent replay attacks.
    oauth_token The Request Token: This parameter is left blank.
    oauth_timestamp:    The current time, expressed as seconds since January 1st, 1970. A timestamp value is required     in every OAuth authentication call, and in all subsequent authenticated API calls.
    oauth_signature_method: The cryptographic method used for generating the signature. MUST be HMAC-SHA1.
    oauth_signature:    The HMAC-SHA1 signature encryption of the Consumer Secret and (empty) Token Secret, as            described     in RFC 5849 section 3.4.2. 
    
    #Optional parameters- 
    oauth_callback: An optional URI to the page to which Patron will redirect the user after the user's identity and     permissions have been verified. This URI may use any URI scheme. After the user has authenticated, Patron calls     this URL, passing the two query string parameters described below. If omitted, Patron displays an HTML page         containing the Verification Code; your user must enter this Verification Code manually into your application in     order for the application to request an Access Token.
    If the user denies your application access to his or her account, this callback is not used.
    oauth_version   The version of the OAuth protocol being used by this request. The default (and currently only     valid value) is 1.0. 
    
    #Response- 
    Response
    oauth_token:    The Request Token.
    oauth_token_secret: The Token Secret. The call to /oauth/getAccessToken must be signed using both the Consumer      Secret and the Token Secret, as described in RFC 5849 section 3.4.
    oauth_callback_confirmed:   A required response variable in OAuth 1.0 meant to distinguish it from prior versions     of the protocol. It is always set to true. 
    
    2. Authorize token - 
    Endpoint - oauth/authorizeToken 
    Request parameters - 
      1.oauth_token:    The Request Token returned by /oauth/getRequestToken. 
    Response - 
      1.oauth_token:    The Request Token. Used by the client application to associate the callback with a prior call       to /oauth/getRequestToken. 
      2.oauth_verifier : The Verification Code. This value must be included in a subsequent request to /oauth             /getAccessToken in order to exchaneg the Request Token for an Access Token.  
      
    3. Get Access token: 
    Endpoint - https://Patron.com/oauth/getAccessToken 
    Request Parameters - 
      1.oauth_consumer_key: The consumer key used to access all Patron Developer APIs.
      2.oauth_token:    The Request Token returned in the callback generated by oauth/authorizeToken.
      3.oauth_nonce:    A random value, used in all OAuth authentication requests and all subsequent authenticated API          calls to prevent replay attacks.
      4.oauth_timestamp:    The current time, expressed as seconds since January 1st, 1970. A timestamp value is                required in every OAuth authentication call, and in all subsequent authenticated API calls.
      5.oauth_verifier: The Verification Code returned by the redirect to /oauth/authorizeToken.
      6.oauth_signature_method: The cryptographic method used for generating the signature. MUST be HMAC-SHA1.
      7.oauth_signature The HMAC-SHA1: signature encryption of the Consumer Secret and Token Secret, as described in        RFC 5849 section 3.4.2. 
      
    Response Parameters - 
      1.oauth_token:    The authenticated Access Token.
      2.oauth_token_secret: The Access Token Secret. This value and the Consumer Secret must be used to sign all            subsequent authenticated API calls. 
      
      
    4. Revoke Token: 
    Endpoint - /oauth/revokeToken 
    Request parameters-
      1.oauth_consumer_key: The consumer key used to access all Patron Developer APIs.
      2.oauth_token:    The Access Token.
      3.oauth_nonce:    A random value, used in all OAuth authentication requests and all subsequent authenticated API          calls to prevent replay attacks.
      4.oauth_timestamp :The current time, expressed as seconds since January 1st, 1970. A timestamp value is               required in every OAuth authentication call, and in all subsequent authenticated API calls.
      5.oauth_signature_method: The cryptographic method used for generating the signature. MUST be HMAC-SHA1.
      6.oauth_signature:    The HMAC-SHA1 signature encryption of the Consumer Secret and Token Secret, as described in         RFC 5849 section 3.4.2.
      
    OPTIONAL Parameters: 

      oauth_version:    The version of the OAuth protocol being used by this request. The default (and currently only       valid value) is 1.0. 



      ### User information according to Username. 
    Endpoint - GET Patron/users/:username/
    Response parameters (Only if the client app is authenticated using OAuth) - 
      1. First name: First name of the user 
      2. Last name: Last name of the user.  
      3. Artist: Type of Artist
      4. Facebook profile link (if applicable): Link to users Facebook profile 
      5. User availabitly calander link (if applicable): Link to Users calander. 
      6. Geo-located map image (if applicable) : Link to google maps with users coordinates, and radius willing to travel. 
      7. Work_done - Sample work files to demonstrate Artists' work: Link to Artisits work (includes soundcloud           links,youtube links, pictures from relative platforms etc) 
      8. Contact_info: Contact info of the user Such as phone number, address, email id 
      9. Price (hourly/daily): Price info, along with info to for preferred payment. 
10. 
11. #Sample response payload - 
12. 
12. Sample pay-load - 
13. [
  {
    "First_name": "Donald",
    "last_name": "Duck",
    "Artist": "Photographer",
    "isActive": true,
    "calander": "/calendly.com/DonaldDuck",
    "Facebook: "http://facebook.com/DonaldDuck",
    "Coordinates": "40.712784,-74.005941", 
   "Sample work": "patron/DonalDuck/works/flower.jpg" 
   "contact_info": "217-xxx-xxx, DonalDuck@duckdynasty.com" 
   "price" "20/hr"
    
    },
  ] 
  If no such username exists then Http 400 Bad request. 
  If App is not authenticated with Oauth then it will return http 401 unautherized
      
      ### Creating new Users (Inspired by Django's Rest Framework) 
      Endpoint - POST /users/ (only if client app is authenticated with OAUTH). 
      
      Request parameters-  
    
      1. First name: First name of the user 
      2. Last name: Last name of the user.  
      3. Artist: Type of Artist
      4. Facebook profile link (optional): Link to users Facebook profile 
      5. User availabitly calander link (optional): Link to Users calander. 
      6. Geo-located map image (optional) : Link to google maps with users coordinates, and radius willing to travel. 
      7. Work_done(optional) - Sample work files to demonstrate Artists' work: Link to Artisits work (includes soundcloud           links,youtube links, pictures from relative platforms etc) 
      8. Email Id:  email id 
      9. Phone number (optional) : Phone Number
      10. Price (hourly/daily) (optional): Price info, along with info to for preferred payment.  
11. 
12. Sample Request - 
13. 
14. Sample pay-load - 
13. [
  {
    "First_name": "Donald",
    "last_name": "Duck",
    "Artist": "Photographer",
    "isActive": true,
    "calander": "/calendly.com/DonaldDuck",
    "Facebook: "http://facebook.com/DonaldDuck",
    "Coordinates": "40.712784,-74.005941", 
   "Sample work": "patron/DonalDuck/works/flower.jpg"
   "contact_info": "217-xxx-xxx, DonalDuck@duckdynasty.com" 
   "price" "20/hr"
    
    },
  ]
12.     
      Response - 
    HTTP 201 created if all the parameters are met with. 
    If required fields are not filled, then http 400 (bad request)
     



